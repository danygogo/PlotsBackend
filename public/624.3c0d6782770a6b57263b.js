"use strict";(self.webpackChunkplots=self.webpackChunkplots||[]).push([[624],{6624:(Y,u,l)=>{l.r(u),l.d(u,{PiechartModule:()=>O});var c=l(8583),p=l(8663),t=l(639),r=l(665);let d=(()=>{class o{constructor(){this.data$=new t.vpe}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var h=l(4902);function Z(o,i){1&o&&(t.TgZ(0,"div"),t.TgZ(1,"h5"),t._uU(2,"Title"),t.qZA(),t.TgZ(3,"p"),t._uU(4,"The title will appear at the top of your chart. It is optional."),t.qZA(),t.qZA())}function g(o,i){1&o&&(t.TgZ(0,"div"),t.TgZ(1,"h5"),t._uU(2,"Number of observations"),t.qZA(),t.TgZ(3,"p"),t._uU(4,"It is the number of elements or observations that you want to add to your chart. For example, if you want to represent in the chart the number of women and men in your chart, then write 2"),t.qZA(),t.TgZ(5,"p"),t._uU(6,"this value is required and the minimun is 1."),t.qZA(),t.qZA())}function f(o,i){1&o&&(t.TgZ(0,"div"),t.TgZ(1,"h5"),t._uU(2,"Table"),t.qZA(),t.TgZ(3,"p"),t._uU(4,'In the table below you have to add your data. For every type of data you have to add the values vertically, for example if you are showing the number of the men and women in your class, then write vertically "men" and "women". Do the same for the other data.'),t.qZA(),t.TgZ(5,"p"),t._uU(6,"The numbers must be greater than or equal to zero."),t.qZA(),t.TgZ(7,"p"),t._uU(8,"Pick different colors for each data."),t.qZA(),t.TgZ(9,"p"),t._uU(10,"All the fields are required."),t.qZA(),t.qZA())}let _=(()=>{class o{constructor(){this.element=""}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-info-pie"]],inputs:{element:"element"},decls:3,vars:3,consts:[[4,"ngIf"]],template:function(e,n){1&e&&(t.YNc(0,Z,5,0,"div",0),t.YNc(1,g,7,0,"div",0),t.YNc(2,f,11,0,"div",0)),2&e&&(t.Q6J("ngIf","title"==n.element),t.xp6(1),t.Q6J("ngIf","pointsquantity"==n.element),t.xp6(1),t.Q6J("ngIf","table"==n.element))},directives:[c.O5],styles:[""]}),o})();function T(o,i){1&o&&(t.TgZ(0,"p",17),t._uU(1," Please write a number greater than or equal to one "),t.qZA())}function C(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().addDataAndStyles()}),t._uU(1,"Set chart's content"),t.qZA()}}function v(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",28),t._UZ(2,"input",29),t.qZA(),t.TgZ(3,"td",30),t._UZ(4,"input",31),t.qZA(),t.TgZ(5,"td",32),t._UZ(6,"input",33),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"button",34),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).deleteRow(s)}),t._uU(9,"Delete"),t._UZ(10,"i",35),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=i.index;t.xp6(2),t.Q6J("formControlName",e),t.xp6(2),t.Q6J("formControlName",e),t.xp6(2),t.Q6J("formControlName",e)}}function b(o,i){1&o&&(t.TgZ(0,"p",17),t._uU(1," Please write a name for every number "),t.qZA())}function y(o,i){1&o&&(t.TgZ(0,"p",17),t._uU(1," Please write a number in all the fields for this purpose. It must be greater than or equal to 0 "),t.qZA())}function A(o,i){1&o&&(t.TgZ(0,"p",17),t._uU(1," Please fill correctly all the information "),t.qZA())}function q(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"label"),t.TgZ(4,"b"),t._uU(5,"Chart data "),t.qZA(),t.TgZ(6,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().showDialog("table")}),t._UZ(7,"i",10),t.qZA(),t.qZA(),t.qZA(),t._UZ(8,"div",5),t.qZA(),t.TgZ(9,"div",19),t.TgZ(10,"div",5),t.TgZ(11,"table"),t.TgZ(12,"tr"),t.TgZ(13,"th"),t._uU(14,"Names"),t._UZ(15,"i",20),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Values"),t._UZ(18,"i",20),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Color"),t.qZA(),t._UZ(21,"th"),t.qZA(),t.YNc(22,v,11,3,"tr",21),t.qZA(),t.qZA(),t._UZ(23,"br"),t.qZA(),t.TgZ(24,"div",22),t.TgZ(25,"div",23),t.TgZ(26,"button",24),t.NdJ("click",function(){return t.CHM(e),t.oxw().addRow()}),t._uU(27,"Add row "),t._UZ(28,"i",25),t.qZA(),t.qZA(),t.qZA(),t.YNc(29,b,2,0,"p",12),t.YNc(30,y,2,0,"p",12),t.YNc(31,A,2,0,"p",12),t.TgZ(32,"button",26),t._uU(33," Apply changes "),t._UZ(34,"i",27),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(22),t.Q6J("ngForOf",e.labels.controls),t.xp6(7),t.Q6J("ngIf",e.checkLabels()),t.xp6(1),t.Q6J("ngIf",e.checkData()),t.xp6(1),t.Q6J("ngIf",0==e.formValid)}}const x=function(){return{width:"40vw"}};let P=(()=>{class o{constructor(e,n){this.fb=e,this.pieService=n,this.pointsQuantity=1,this.valuesSelected=!1,this.display=!1,this.element="",this.formValid=!0,this.validQuantity=!0,this.myForm=this.fb.group({title:[],pointsQuantity:[,[r.kI.required,r.kI.min(1)]],labels:this.fb.array([["",r.kI.required]],r.kI.required),data:this.fb.array([["",r.kI.required]],[r.kI.required,r.kI.min(0)]),backgroundColor:this.fb.array([["#24C5E0",r.kI.required]],r.kI.required)})}ngOnInit(){}get data(){return this.myForm.get("data")}get backgroundColor(){return this.myForm.get("backgroundColor")}get labels(){return this.myForm.get("labels")}addDataAndStyles(){if(this.myForm.controls.pointsQuantity.valid){this.valuesSelected=!0,this.pointsQuantity=this.myForm.controls.pointsQuantity.value;for(let e=0;e<this.pointsQuantity-1;e++){const n=this.createColor();this.data.push(this.fb.control("",[r.kI.required])),this.backgroundColor.push(this.fb.control(n,r.kI.required)),this.labels.push(this.fb.control("",r.kI.required))}}else this.validQuantity=!1}addRow(){const e=this.createColor();this.data.push(this.fb.control("",[r.kI.required])),this.backgroundColor.push(this.fb.control(e,r.kI.required)),this.labels.push(this.fb.control("",r.kI.required))}setValues(){this.myForm.valid?(this.formValid=!0,this.pieService.data$.emit({title:this.myForm.controls.title.value,labels:this.myForm.controls.labels.value,dataSet:{backgroundColor:this.myForm.controls.backgroundColor.value,data:this.myForm.controls.data.value}})):this.formValid=!1}deleteRow(e){this.data.length>1&&(this.data.removeAt(e),this.backgroundColor.removeAt(e),this.labels.removeAt(e))}showDialog(e){this.element=e,this.display=!0}checkForm(e){return this.myForm.controls[e].errors&&this.myForm.controls[e].touched}resetValid(){this.validQuantity=!0}checkLabels(){return"INVALID"==this.myForm.controls.labels.status&&this.myForm.controls.labels.touched}checkData(){return"INVALID"==this.myForm.controls.data.status&&this.myForm.controls.data.touched}createColor(){return"#xxxxxx".replace(/x/g,n=>(16*Math.random()|0).toString(16))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(d))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pie-form"]],decls:40,vars:10,consts:[[1,"myFormContainer"],[1,"pi","pi-chart-pie",2,"font-size","2rem"],[3,"formGroup","ngSubmit"],[1,"row","subtitle"],[1,"col-8"],[1,"col"],[1,"row","inputContainer"],[1,"col-4"],["type","text","formControlName","title","placeholder","Your title",1,"styleInput"],["type","button",1,"infoButton",3,"click"],[1,"pi","pi-info-circle"],["type","number","formControlName","pointsQuantity","min","1","placeholder","write a number",1,"styleInput",3,"click"],["class","form-text text-danger",4,"ngIf"],["class","mainButton","type","button",3,"click",4,"ngIf"],[4,"ngIf"],["position","top-left",3,"visible","modal","visibleChange"],[3,"element"],[1,"form-text","text-danger"],["type","button",1,"mainButton",3,"click"],[1,"row","tableContainer"],[1,"pi","pi-arrow-down"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col","addRowContainer"],[1,"addButton",3,"click"],[1,"pi","pi-plus-circle"],["type","submit",1,"applyButton"],[1,"pi","pi-check-circle"],["formArrayName","labels"],["type","text","placeholder","write a name",1,"styleInput",3,"formControlName"],["formArrayName","data"],["type","number","placeholder","write a number",1,"styleInput",3,"formControlName"],["formArrayName","backgroundColor"],["type","color",3,"formControlName"],["type","button",1,"deleteButton",3,"click"],[1,"pi","pi-minus-circle"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h2"),t._uU(2,"Pie Chart "),t._UZ(3,"i",1),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"h5"),t._uU(6,"My data:"),t.qZA(),t.TgZ(7,"div"),t.TgZ(8,"form",2),t.NdJ("ngSubmit",function(){return n.setValues()}),t.TgZ(9,"div",3),t.TgZ(10,"div",4),t.TgZ(11,"label"),t.TgZ(12,"b"),t._uU(13,"General information"),t.qZA(),t.qZA(),t.qZA(),t._UZ(14,"div",5),t.qZA(),t.TgZ(15,"div",6),t.TgZ(16,"div",7),t.TgZ(17,"label"),t._uU(18,"Chart title:"),t.qZA(),t.qZA(),t.TgZ(19,"div",7),t._UZ(20,"input",8),t.qZA(),t.TgZ(21,"div",7),t.TgZ(22,"button",9),t.NdJ("click",function(){return n.showDialog("title")}),t._UZ(23,"i",10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",6),t.TgZ(25,"div",7),t.TgZ(26,"label"),t._uU(27,"Number of observations:"),t.qZA(),t.qZA(),t.TgZ(28,"div",7),t.TgZ(29,"input",11),t.NdJ("click",function(){return n.resetValid()}),t.qZA(),t.qZA(),t.TgZ(30,"div",7),t.TgZ(31,"button",9),t.NdJ("click",function(){return n.showDialog("pointsquantity")}),t._UZ(32,"i",10),t.qZA(),t.qZA(),t.qZA(),t.YNc(33,T,2,0,"p",12),t.YNc(34,C,2,0,"button",13),t.YNc(35,q,35,4,"div",14),t.qZA(),t.qZA(),t.qZA(),t._UZ(36,"br"),t._UZ(37,"br"),t.TgZ(38,"p-dialog",15),t.NdJ("visibleChange",function(s){return n.display=s}),t._UZ(39,"app-info-pie",16),t.qZA()),2&e&&(t.xp6(8),t.Q6J("formGroup",n.myForm),t.xp6(25),t.Q6J("ngIf",n.checkForm("pointsQuantity")||0==n.validQuantity),t.xp6(1),t.Q6J("ngIf",!n.valuesSelected),t.xp6(1),t.Q6J("ngIf",n.valuesSelected),t.xp6(3),t.Akn(t.DdM(9,x)),t.Q6J("visible",n.display)("modal",!0),t.xp6(1),t.Q6J("element",n.element))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.wV,r.qQ,c.O5,h.V,_,c.sg,r.CE],styles:[""]}),o})();var U=l(7129),m=l(5868);function F(o,i){1&o&&(t.TgZ(0,"div",4),t.TgZ(1,"div",10),t.TgZ(2,"p"),t._uU(3,"The chart will appear here when you send the data"),t.qZA(),t.qZA(),t.qZA())}function k(o,i){if(1&o&&(t.TgZ(0,"div",4),t.TgZ(1,"div",11),t.TgZ(2,"h3"),t._uU(3),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Oqu(e.title)}}function w(o,i){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th",15),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"number"),t.qZA(),t.qZA()),2&o){const e=i.index,n=t.oxw(2);t.xp6(2),t.Oqu(n.myChart.labels[e]),t.xp6(2),t.Oqu(n.myChart.dataSet.data[e]),t.xp6(2),t.Oqu(t.xi3(7,3,n.percentages[e],"1.2-2"))}}function I(o,i){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"table",12),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th",13),t._uU(5,"Data name"),t.qZA(),t.TgZ(6,"th",13),t._uU(7,"Value"),t.qZA(),t.TgZ(8,"th",13),t._uU(9,"Percentage (%)"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"tbody"),t.YNc(11,w,8,6,"tr",14),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(11),t.Q6J("ngForOf",e.myChart.dataSet.data)}}function N(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",16),t._UZ(1,"div",17),t.TgZ(2,"div",17),t.TgZ(3,"div",18),t.TgZ(4,"input",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().showTable()}),t.qZA(),t.TgZ(5,"label",20),t._uU(6," Add a table with my data "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",17),t.TgZ(8,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPDF()}),t._uU(9,"Download PDF"),t.qZA(),t.qZA(),t._UZ(10,"div",17),t.qZA()}}let J=(()=>{class o{constructor(e,n){this.pieService=e,this.pdfService=n,this.title="",this.addTable=!1,this.percentages=[]}ngOnInit(){this.myPieSubscription=this.pieService.data$.subscribe(e=>{this.myChart=e,this.percentages=[],this.createChart(),this.percentagesCalculation()})}ngOnDestroy(){this.myPieSubscription.unsubscribe()}createChart(){this.data={labels:this.myChart.labels,datasets:[this.myChart.dataSet]},this.myChart.title&&(this.title=this.myChart.title)}showTable(){this.addTable=1!=this.addTable}percentagesCalculation(){if(this.myChart){let e=0;this.myChart.dataSet.data.forEach(n=>{e+=n}),this.myChart.dataSet.data.forEach(n=>{this.percentages.push(n/e*100)})}}openPDF(){let e=document.getElementById("reportContainer");this.pdfService.createPDF(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d),t.Y36(U.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pie-chart"]],decls:16,vars:5,consts:[[1,"myReportContainer"],[1,"pi","pi-file",2,"font-size","2rem"],["class","row",4,"ngIf"],["id","reportContainer"],[1,"row"],[1,"col-xl-4","col-lg"],[1,"col-xl-4","col-lg","charContainer"],["type","pie",3,"data"],[4,"ngIf"],["class","row optionsContainer",4,"ngIf"],[1,"col","infoContainer"],[1,"col"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"row","optionsContainer"],[1,"col-md-3","col-sm-12"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input","inputTable",3,"click"],["for","flexCheckDefault",1,"form-check-label"],[1,"downloadButton",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h2"),t._uU(2,"Your report "),t._UZ(3,"i",1),t.qZA(),t.YNc(4,F,4,0,"div",2),t.TgZ(5,"div",3),t.YNc(6,k,4,1,"div",2),t.TgZ(7,"div",4),t._UZ(8,"div",5),t.TgZ(9,"div",6),t._UZ(10,"p-chart",7),t.qZA(),t._UZ(11,"div",5),t.qZA(),t.YNc(12,I,12,1,"div",8),t.qZA(),t.YNc(13,N,11,0,"div",9),t._UZ(14,"br"),t._UZ(15,"br"),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",!n.myChart),t.xp6(2),t.Q6J("ngIf",n.title),t.xp6(4),t.Q6J("data",n.data),t.xp6(2),t.Q6J("ngIf",n.addTable),t.xp6(1),t.Q6J("ngIf",n.myChart))},directives:[c.O5,m.C,c.sg],pipes:[c.JJ],styles:[".downloadButton[_ngcontent-%COMP%]{background-color:#103a75;border:none;height:40px;color:#fff;border-radius:10px}.buttonContainer[_ngcontent-%COMP%]{text-align:left}.infoContainer[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.form-check[_ngcontent-%COMP%]{padding:0;margin-top:16px}.optionsContainer[_ngcontent-%COMP%]{margin-top:20px}@media screen and (max-width: 768px){.charContainer[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}.inputTable[_ngcontent-%COMP%]{margin-left:5px}}"]}),o})();const Q=[{path:"",children:[{path:"piechart",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pie-page"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md","col-xl-4"],[1,"col-md","col-xl-8"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"app-pie-form"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"app-pie-chart"),t.qZA(),t.qZA())},directives:[P,J],styles:[""]}),o})()}]}];let S=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(Q)],p.Bz]}),o})();var M=l(7170);let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,S,m.S,r.UX,M.g]]}),o})()}}]);